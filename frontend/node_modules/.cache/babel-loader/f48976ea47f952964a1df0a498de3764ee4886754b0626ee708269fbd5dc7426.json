{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{handleError,handleSuccess}from\"../handleSuccessError\";import{ToastContainer}from\"react-toastify\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Home(){const[loggedInUser,setLoggedInUser]=useState(\"\");const[products,setProducts]=useState(\"\");const navigate=useNavigate();useEffect(()=>{setLoggedInUser(localStorage.getItem(\"loggedInUser\"));},[]);const handleLogout=e=>{localStorage.removeItem(\"token\");localStorage.removeItem(\"loggedInUser\");handleSuccess(\"User Loggedout\");setTimeout(()=>{navigate(\"/login\");},1000);};const fetchProducts=async()=>{try{const url=\"https://deploy-mern-app-1-api.vercel.app/products\";const headers={headers:{Authorization:localStorage.getItem(\"token\")}};const response=await fetch(url,headers);const result=await response.json();console.log(result);setProducts(result);}catch(err){handleError(err);}};useEffect(()=>{fetchProducts();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome \",loggedInUser]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"div\",{children:products&&(products===null||products===void 0?void 0:products.map((item,index)=>/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" : \",item.price]})},index)))}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","handleError","handleSuccess","ToastContainer","jsxs","_jsxs","jsx","_jsx","Home","loggedInUser","setLoggedInUser","products","setProducts","navigate","localStorage","getItem","handleLogout","e","removeItem","setTimeout","fetchProducts","url","headers","Authorization","response","fetch","result","json","console","log","err","children","onClick","map","item","index","name","price"],"sources":["/home/dell/Practicse/Login and SignUp/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { handleError, handleSuccess } from \"../handleSuccessError\";\nimport { ToastContainer } from \"react-toastify\";\n\nfunction Home() {\n  const [loggedInUser, setLoggedInUser] = useState(\"\");\n  const [products, setProducts] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    setLoggedInUser(localStorage.getItem(\"loggedInUser\"));\n  }, []);\n\n  const handleLogout = (e) => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"loggedInUser\");\n    handleSuccess(\"User Loggedout\");\n    setTimeout(() => {\n      navigate(\"/login\");\n    }, 1000);\n  };\n\n  const fetchProducts = async () => {\n    try {\n      const url = \"https://deploy-mern-app-1-api.vercel.app/products\";\n      const headers = {\n        headers: {\n          Authorization: localStorage.getItem(\"token\"),\n        },\n      };\n      const response = await fetch(url, headers);\n      const result = await response.json();\n      console.log(result);\n      setProducts(result);\n    } catch (err) {\n      handleError(err);\n    }\n  };\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  return (\n    <div>\n      <h1>Welcome {loggedInUser}</h1>\n      <button onClick={handleLogout}>Logout</button>\n      <div>\n        {products &&\n          products?.map((item, index) => (\n            <ul key={index}>\n              <span>\n                {item.name} : {item.price}\n              </span>\n            </ul>\n          ))}\n      </div>\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,CAAEC,aAAa,KAAQ,uBAAuB,CAClE,OAASC,cAAc,KAAQ,gBAAgB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEhD,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAc,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9BF,SAAS,CAAC,IAAM,CACdY,eAAe,CAACI,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC,CACvD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1BH,YAAY,CAACI,UAAU,CAAC,OAAO,CAAC,CAChCJ,YAAY,CAACI,UAAU,CAAC,cAAc,CAAC,CACvChB,aAAa,CAAC,gBAAgB,CAAC,CAC/BiB,UAAU,CAAC,IAAM,CACfN,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAED,KAAM,CAAAO,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,mDAAmD,CAC/D,KAAM,CAAAC,OAAO,CAAG,CACdA,OAAO,CAAE,CACPC,aAAa,CAAET,YAAY,CAACC,OAAO,CAAC,OAAO,CAC7C,CACF,CAAC,CACD,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACJ,GAAG,CAAEC,OAAO,CAAC,CAC1C,KAAM,CAAAI,MAAM,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CACpCC,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC,CACnBd,WAAW,CAACc,MAAM,CAAC,CACrB,CAAE,MAAOI,GAAG,CAAE,CACZ7B,WAAW,CAAC6B,GAAG,CAAC,CAClB,CACF,CAAC,CACDhC,SAAS,CAAC,IAAM,CACdsB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEf,KAAA,QAAA0B,QAAA,eACE1B,KAAA,OAAA0B,QAAA,EAAI,UAAQ,CAACtB,YAAY,EAAK,CAAC,cAC/BF,IAAA,WAAQyB,OAAO,CAAEhB,YAAa,CAAAe,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC9CxB,IAAA,QAAAwB,QAAA,CACGpB,QAAQ,GACPA,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEsB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACxB5B,IAAA,OAAAwB,QAAA,cACE1B,KAAA,SAAA0B,QAAA,EACGG,IAAI,CAACE,IAAI,CAAC,KAAG,CAACF,IAAI,CAACG,KAAK,EACrB,CAAC,EAHAF,KAIL,CACL,CAAC,EACD,CAAC,cACN5B,IAAA,CAACJ,cAAc,GAAE,CAAC,EACf,CAAC,CAEV,CAEA,cAAe,CAAAK,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}